<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>gulp-scss-starter</title>
    <meta name="theme-color" content="#fff">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <link rel="shortcut icon" href="img/favicons/favicon.ico" type="image/x-icon">
    <link rel="icon" sizes="16x16" href="img/favicons/favicon-16x16.png" type="image/png">
    <link rel="icon" sizes="32x32" href="img/favicons/favicon-32x32.png" type="image/png">
    <link rel="apple-touch-icon-precomposed" href="img/favicons/apple-touch-icon-precomposed.png">
    <link rel="apple-touch-icon" href="img/favicons/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="57x57" href="img/favicons/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="img/favicons/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="img/favicons/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="img/favicons/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="img/favicons/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="img/favicons/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="img/favicons/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="img/favicons/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="167x167" href="img/favicons/apple-touch-icon-167x167.png">
    <link rel="apple-touch-icon" sizes="180x180" href="img/favicons/apple-touch-icon-180x180.png">
    <link rel="apple-touch-icon" sizes="1024x1024" href="img/favicons/apple-touch-icon-1024x1024.png">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://unpkg.com/gijgo@1.9.13/css/gijgo.min.css" rel="stylesheet" type="text/css" />
    <!-- <link rel="stylesheet" href="../../styles/main.css"> -->
</head>

<body>
    <%= require('html-loader!../blocks/header.html') %>
    <main class="container pt-5 pb-5 pl-0 pr-0" id="PMLanding">
        <div class="service-container mb-5">
            <ul class="row">
         
              
                <li class=" col-md-3 col-sm-3 col-xs-12 p-0">
                    <a href="" class="d-flex service_link">
                        <div class="service-container__img">
                            <img src="../../img/svg/Service-img-2.svg" />
                        </div>

                        <span>My Tasks</span>
                    </a>
                </li>
               
                <li class=" col-md-3 col-sm-3 col-xs-12 p-0">
                    <a href="" class="d-flex service_link">
                        <div class="service-container__img">
                            <img src="../../img/svg/Service-img-4.svg" />
                        </div>

                        <span>My Requests</span>
                    </a>


                </li>
                <li class=" col-md-3 col-sm-3 col-xs-12 p-0">
                    <a href="" class="d-flex service_link">
                        <div class="service-container__img">
                            <img src="../../img/svg/Service-img-5.svg" />
                        </div>

                        <span>Reports</span>
                    </a>


                </li>
                <li class="col-md-3 col-sm-3 col-xs-12 p-0">
                    <a href="" class="d-flex service_link">
                        <div class="service-container__img">
                            <img src="../../img/svg/Service-img-1.svg" />
                        </div>

                        <span>PMO
                            Library</span>
                    </a>


                </li>
            </ul>
        </div>
        <div class="weekly-calendar card border-0 p-3">
            <div class="title">
                <span class="title__text">This Week</span>
                <span class="title__date pl-2 pr-2"><template v-for="item in weekMonth">{{item}}
                        {{weekMonth.length>1?' - ':''}}</template>
                    <template v-for="item in weekYear">{{' / '+item}}</template></span>
                <a href="#" class="pl-2 pr-2 text-white">View Full Calendar</a>
            </div>
            <div class="calendar position-relative">
                <div class="calender-controls">
                    <a role="button" class="prev-week" @click="getPrevWeek()"><i class="fa fa-angle-left"
                            aria-hidden="true"></i> <span>Previous Week</span></a>
                    <a role="button" class="next-week" @click="getNextWeek()"><i class="fa fa-angle-right"
                            aria-hidden="true"></i> <span>Next Week</span></a>
                </div>
                <div class="timeline d-flex">

                    <div class="day " :class="{'today':day.today}" v-for="(day,index) in currentWeekDates">
                        <div class="day-name">{{day.dayName}}</div>
                        <div class="day-date">{{day.dayNum}}</div>
                        <div class="day-events" v-for="event in day.events">
                            <span><a :href="event.eventUrl">{{event.eventType}} <i class="fa fa-external-link"
                                        aria-hidden="true"></i></a></span>
                        </div>
                    </div>

                </div>
            </div>

        </div>
        <div class="section mt-5">
            <div class="row">
                <div class="col-3">
                    <div class="section-title">
                        Tasks By Status
                    </div>
                    <div id="piechart" class="chart"></div>
                </div>
                <div class="col-3">
                    <div class="section-title">
                        Request By Status
                    </div>
                    <div id="piechartRequests" class="chart"></div>
                </div>
                <div class="col-6">
                    <div class="section-title">
                        Project By Status
                    </div>
                    <div class="card">
                        <div class="card-body p-0">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th></th>
                                        <th scope="col">Project Name</th>
                                        <th scope="col">Own.Dep</th>
                                        <th scope="col">Spon.Dep</th>

                                        <th scope="col">Due Date</th>
                                        <th scope="col">Status</th>



                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><a class="info-btn" href="#"><svg width="1em" height="1em"
                                                    viewBox="0 0 16 16" class="bi bi-info-circle" fill="currentColor"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path fill-rule="evenodd"
                                                        d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                                                    <path
                                                        d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z" />
                                                    <circle cx="8" cy="4.5" r="1" />
                                                </svg></a>
                                        </td>
                                        <td scope="row">Project Name </td>
                                        <td>Dep 1</td>
                                        <td>Dep 1</td>
                                        <td class="text-primary">20/10/2020</td>
                                        <td class="text-center"><span class="badge status-open">Open</span></td>
                                    </tr>
                                    <tr>
                                        <td><a class="info-btn" href="#"><svg width="1em" height="1em"
                                                    viewBox="0 0 16 16" class="bi bi-info-circle" fill="currentColor"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path fill-rule="evenodd"
                                                        d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                                                    <path
                                                        d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z" />
                                                    <circle cx="8" cy="4.5" r="1" />
                                                </svg></a>
                                        </td>
                                        <td scope="row">Project Name </td>
                                        <td>Dep 1</td>
                                        <td>Dep 1</td>
                                        <td class="text-primary">20/10/2020</td>
                                        <td class="text-center"><span class="badge status-LackOfInfo">Lake Of
                                                Info</span></td>
                                    </tr>
                                    <tr>
                                        <td><a class="info-btn" href="#"><svg width="1em" height="1em"
                                                    viewBox="0 0 16 16" class="bi bi-info-circle" fill="currentColor"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path fill-rule="evenodd"
                                                        d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                                                    <path
                                                        d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z" />
                                                    <circle cx="8" cy="4.5" r="1" />
                                                </svg></a>
                                        </td>
                                        <td scope="row">Project Name </td>
                                        <td>Dep 1</td>
                                        <td>Dep 1</td>
                                        <td class="text-primary">20/10/2020</td>
                                        <td class="text-center"><span class="badge status-closed">Closed</span></td>
                                    </tr>
                                    <tr>
                                        <td><a class="info-btn" href="#"><svg width="1em" height="1em"
                                                    viewBox="0 0 16 16" class="bi bi-info-circle" fill="currentColor"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path fill-rule="evenodd"
                                                        d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                                                    <path
                                                        d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z" />
                                                    <circle cx="8" cy="4.5" r="1" />
                                                </svg></a>
                                        </td>
                                        <td scope="row">Project Name </td>
                                        <td>Dep 1</td>
                                        <td>Dep 1</td>
                                        <td class="text-primary">20/10/2020</td>
                                        <td class="text-center"><span class="badge status-Delayed">Delayed</span></td>
                                    </tr>
                                    <tr>
                                        <td><a class="info-btn" href="#"><svg width="1em" height="1em"
                                                    viewBox="0 0 16 16" class="bi bi-info-circle" fill="currentColor"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path fill-rule="evenodd"
                                                        d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                                                    <path
                                                        d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z" />
                                                    <circle cx="8" cy="4.5" r="1" />
                                                </svg></a>
                                        </td>
                                        <td scope="row">Project Name </td>
                                        <td>Dep 1</td>
                                        <td>Dep 1</td>
                                        <td class="text-primary">20/10/2020</td>
                                        <td class="text-center"><span class="badge status-inProgress">In Progress</span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="card-footer d-flex">
                            <div> <span>showing: </span><select>
                                    <option>10</option>
                                    <option>15</option>
                                    <option>20</option>
                                </select>
                            </div>
                            <div class="text-right">
                                <span>showing 10/100</span> <a href="" class="previous"><svg width="1em" height="1em"
                                        viewBox="0 0 16 16" class="bi bi-arrow-left-short" fill="currentColor"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd"
                                            d="M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z" />
                                    </svg></a>
                                <a href="" class="next"><svg width="1em" height="1em" viewBox="0 0 16 16"
                                        class="bi bi-arrow-right-short" fill="currentColor"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd"
                                            d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z" />
                                    </svg></a>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div>

    </main>
    <%= require('html-loader!../blocks/footer.html') %>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous">

    </script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.18/dist/js/bootstrap-select.min.js"></script>


    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous">
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
        integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/gijgo@1.9.13/js/gijgo.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script>
        var landing = new Vue({
            el: "#PMLanding",
            data: {
                currentWeekDates: "",
                currentWeekYear: "",
                currentWeekMonth: "",
                weekEnd: "",
                WeekStart: "",
                today: new Date(),
                weekMonth: [],
                weekYear: [],

            },
            created: function () {
                //tasks&requests
                this.currentWeekDates = this.getCurrentWeek();
                google.charts.load('current', {
                    'packages': ['corechart']
                });
                google.charts.setOnLoadCallback(drawChart);

                function drawChart() {

                    var data = google.visualization.arrayToDataTable([
                        ['hi', 'hi'],
                        ['Rejected', 12],
                        ['On Track', 2],
                        ['Completed', 2],
                        ['In Progress', 2],
                        ['Lack of Info', 7]
                    ]);

                    var options = {
                        'width': 250,
                        'height': 250,
                        colors: ['#FF2929', '#57C790', '#548ED4', '#ED8B00', '#BFBFBF'],

                        backgroundColor: {
                            fill: '#FFF',
                            fillOpacity: 0
                        },
                        legend: {
                            position: 'bottom',
                           
                        }
                    };

                    var chart = new google.visualization.PieChart(document.getElementById('piechart'));
                    var chartR = new google.visualization.PieChart(document.getElementById(
                        'piechartRequests'));
                    chart.draw(data, options);
                    chartR.draw(data, options);



                }
                //col chart

                google.charts.setOnLoadCallback(drawChartCol);

                function drawChartCol() {
                    var data = google.visualization.arrayToDataTable([
                        ["Element", "Number", {
                            role: "style"
                        }],
                        ['Rejected', 12, "#DF5656"],

                        ['On Track', 2, "#24A9E5"],
                        ['Completed', 2, "#3BC51B"],

                        ['Slightly Delayed', 3, "#DB7E61"],
                        ['Lack of Info', 7, "#A189B8"]
                    ]);

                    var view = new google.visualization.DataView(data);
                    view.setColumns([0, 1,
                        {
                            calc: "stringify",
                            sourceColumn: 1,
                            type: "string",
                            role: "annotation"
                        },
                        2
                    ]);

                    var options = {

                        colors: ['#FF2929', '#57C790', '#548ED4', '#ED8B00', '#BFBFBF'],
                        backgroundColor: {
                            fill: '#FFF',
                            fillOpacity: 0
                        },
                        legend: {
                            position: "none"
                        },
                    };
                    var chartCol = new google.visualization.BarChart(document.getElementById(
                        "statusProjects"));
                    chartCol.draw(view, options);
                }
            },
            methods: {
                //get weeks days
                getCurrentWeek: function () {
                    var currentDate = moment();


                    this.weekStart = currentDate.clone().startOf('isoWeek');
                    if (currentDate.format("ddd") == 'Sun') {
                        this.weekStart = currentDate;
                    }
                    this.weekEnd = currentDate.clone().endOf('isoWeek');


                    var days = [];

                    for (var i = 0; i <= 6; i++) {

                        var day = {
                            today: false,
                            dayyear: moment(this.weekStart).add(i - 1, 'days').format("YYYY"),
                            daymonth: moment(this.weekStart).add(i - 1, 'days').format("MMMM"),
                            dayName: moment(this.weekStart).add(i - 1, 'days').format("ddd"),
                            dayNum: moment(this.weekStart).add(i - 1, 'days').format("D"),
                            events: [{
                                eventType: "Task",
                                eventUrl: "www.google.com"
                            }]

                        }
                        if (moment(this.weekStart).add(i - 1, 'days').format("YYYY/MMM/D") == moment(this
                                .today).format("YYYY/MMM/D")) {
                            day.today = true;
                        }
                        days.push(day);
                    }
                    this.weekMonth = [days[0].daymonth];
                    this.weekYear = [days[0].dayyear];
                    if (days[6].daymonth != this.weekMonth)
                        this.weekMonth.push(days[6].daymonth)
                    if (days[6].dayyear != this.weekYear)
                        this.weekYear.push(days[6].dayyear)
                    return days;
                },
                getNextWeek: function () {

                    var nextDate = this.weekStart.add(1, 'weeks');
                    this.weekStart = nextDate.clone();
                    var days = [];

                    for (var i = 0; i <= 6; i++) {
                        var day = {
                            dayyear: moment(this.weekStart).add(i - 1, 'days').format("YYYY"),
                            daymonth: moment(this.weekStart).add(i - 1, 'days').format("MMMM"),
                            dayName: moment(this.weekStart).add(i - 1, 'days').format("ddd"),
                            dayNum: moment(this.weekStart).add(i - 1, 'days').format("D"),
                            events: [{
                                eventType: "Task",
                                eventUrl: "www.google.com"
                            }]

                        }
                        if (moment(this.weekStart).add(i - 1, 'days').format("YYYY/MMM/D") == moment(this
                                .today).format("YYYY/MMM/D")) {
                            day.today = true;
                        }
                        days.push(day);
                    }
                    this.weekMonth = [days[0].daymonth];
                    this.weekYear = [days[0].dayyear];
                    if (days[6].daymonth != this.weekMonth)
                        this.weekMonth.push(days[6].daymonth)
                    if (days[6].dayyear != this.weekYear)
                        this.weekYear.push(days[6].dayyear)
                    return this.currentWeekDates = days;

                },
                getPrevWeek: function () {

                    var PrevDate = this.weekStart.subtract(1, 'weeks');

                    this.weekStart = PrevDate.clone();
                    this.weekEnd = PrevDate.clone().endOf('isoWeek');

                    var days = [];

                    for (var i = 0; i <= 6; i++) {
                        var day = {
                            dayyear: moment(this.weekStart).add(i - 1, 'days').format("YYYY"),
                            daymonth: moment(this.weekStart).add(i - 1, 'days').format("MMMM"),
                            dayName: moment(this.weekStart).add(i - 1, 'days').format("ddd"),
                            dayNum: moment(this.weekStart).add(i - 1, 'days').format("D"),
                            events: [{
                                eventType: "Task",
                                eventUrl: "www.google.com"
                            }]

                        }
                        if (moment(this.weekStart).add(i - 1, 'days').format("YYYY/MMM/D") == moment(this
                                .today).format("YYYY/MMM/D")) {
                            day.today = true;
                        }
                        days.push(day);
                    }
                    this.weekMonth = [days[0].daymonth];
                    this.weekYear = [days[0].dayyear];
                    if (days[6].daymonth != this.weekMonth)
                        this.weekMonth.push(days[6].daymonth)
                    if (days[6].dayyear != this.weekYear)
                        this.weekYear.push(days[6].dayyear)
                    return this.currentWeekDates = days;
                }
            }
        });
    </script>



</body>

</html>